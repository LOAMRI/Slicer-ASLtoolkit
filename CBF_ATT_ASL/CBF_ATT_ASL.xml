<?xml version="1.0" encoding="utf-8"?>
<executable>
  <category>Neuroimaging</category>
  <index>0</index>
  <title>CBF/ATT ASL</title>
  <description><![CDATA[Calculates the CBF/ATT ASL image reconstruction.

CLI Usage: When running from command line, you can also use the --outputFolder flag to specify the output directory:
  Slicer --launch /path/to/CBF_ATT_ASL.py --inputASL asl.nii --inputM0 m0.nii --outputFolder /output/path --outputCBF cbf.nii --outputATT att.nii --pld 170.0,270.0,370.0 --ld 100.0,100.0,150.0

Note: The --outputFolder parameter is only available when running as a CLI module from terminal and is not shown in the GUI. If the user calls the CLI module but will not provide the --outputFolder flag, then the home directory is assumed to output the generated files.]]></description>
  <version>0.1.0.</version>
  <documentation-url>https://slicer-asltoolkit.readthedocs.io</documentation-url>
  <license/>
  <contributor>Antonio Senra Filho (State University of Campinas)</contributor>
  <acknowledgements><![CDATA[This work was funded by the State University of Campinas (Unicamp), Sao Paulo, Brazil.]]></acknowledgements>
  <parameters>
    <label>Input parameters</label>
    <description><![CDATA[Input parameters]]></description>
    <double-vector>
      <name>pld</name>
      <label>Post-Labelling Delays (PLD)</label>
      <longflag>pld</longflag>
      <default>170.0, 270.0, 370.0, 520.0, 670.0, 1070.0, 1870.0</default>
      <description><![CDATA[The post-labelling delays (PLD) used in the ASL imaging protocol. Informs each floating point number separated by single space.]]></description>
    </double-vector>
    <double-vector>
      <name>ld</name>
      <label>Labelling Duration (LD)</label>
      <longflag>ld</longflag>
      <default>100.0, 100.0, 150.0, 150.0, 400.0, 800.0, 1800.0</default>
      <description><![CDATA[The labelling duration (LD) used in the ASL imaging protocol. Informs each floating point number separated by single space.]]></description>
    </double-vector>
    <image>
      <name>outputCBF</name>
      <label>Output CBF Map</label>
      <longflag>outputCBF</longflag>
      <channel>output</channel>
      <description><![CDATA[Output CBF map obtained from the multi echo ASL processing.]]></description>
    </image>
    <image>
      <name>outputATT</name>
      <label>Output ATT Map</label>
      <longflag>outputATT</longflag>
      <channel>output</channel>
      <description><![CDATA[Output ATT map obtained from the ASL processing.]]></description>
    </image>
    <file fileExtensions=".nii,.nii.gz">
    <name>inputASL</name>
      <label>Input ASL file</label>
      <longflag>inputASL</longflag>
      <description><![CDATA[Input ASL file path in .nii or nii.gz format]]></description>
    </file>
    <file fileExtensions=".nii,.nii.gz">
    <name>inputM0</name>
      <label>Input M0</label>
      <longflag>inputM0</longflag>
      <description><![CDATA[Input the M0 file path to use as the reference signal for ASL computation. Provide the M0 file in .nii or nii.gz format]]></description>
    </file>
    <file fileExtensions=".nii,.nii.gz">
    <name>labelMask</name>
      <label>Input brain mask</label>
      <longflag>brainMask</longflag>
      <description><![CDATA[Input the brain mask file path. If empty, the entire image is used for the calculations (requires a longer processing time). Any pixel value different from zero is adopted as a valid brain label. Use brain mask file in .nii or nii.gz format]]></description>
    </file>
  </parameters>
  <parameters>
    <label>Advanced Options</label>
    <description><![CDATA[Advanced Options]]></description>
    <boolean>
      <name>normalizedCBF</name>
      <label>Set CBF to mL/100 g/min scale</label>
      <longflag>normalizedCBF</longflag>
      <default>true</default>
      <description><![CDATA[Set if output CBF map is at normalized voxel value in milliliters of blood per 100 grams of brain tissue per minute (mL/100 g/min).]]></description>
    </boolean>
    <boolean>
      <name>averageM0</name>
      <label>Average M0</label>
      <longflag>averageM0</longflag>
      <default>false</default>
      <description><![CDATA[Indicates if an average calculation must be performed on the M0 images. This is common practice in ASL processing to improve SNR.]]></description>
    </boolean>
    <integer>
      <name>numThreads</name>
      <label>Number of Threads</label>
      <longflag>numThreads</longflag>
      <default>-1</default>
      <description><![CDATA[Number of threads to be used during processing. More threads may speed up the processing on computers with multiple cores. The default value (-1) means to use all available cores.]]></description>
    </integer>
    <string-enumeration>
      <name>smoothMethod</name>
      <label>Smoothing Method</label>
      <longflag>smoothMethod</longflag>
      <description><![CDATA[Select the smoothing method to be applied to the ASL images prior to the CBF/ATT calculation.]]></description>
      <element>None</element>
      <element>Gaussian</element>
      <element>Median</element>
      <default>None</default>
    </string-enumeration>
    <float>
      <name>smoothParameter</name>
      <label>Smoothing Parameter</label>
      <longflag>smoothParameter</longflag>
      <default>3.0</default>
      <description><![CDATA[Defines the smoothing parameter based on the smoothing method. If Gaussian was choosen, than the parameter represents the sigma value. If the Median filter was chosen, then the parameter represents the kernel size (must be an odd number).]]></description>
    </float>
  </parameters>
</executable>
